<% products.each do |product| %>
  <div>
    <div data-controller="dialog" data-action="click->dialog#clickOutside">
      <button data-action="click->dialog#open">
        <div class="w-80 h-full border-black border-2 rounded-md hover:shadow-[8px_8px_0px_rgba(0,0,0,1)] bg-white">
          <article class="w-full h-full flex items-center justify-items-center">
            <figure class="w-full py-2 px-1 m-auto">
              <%= image_tag product.image_link, class: 'w-20 h-20 object-cover', alt: 'thumbnail' %>
            </figure>
            <span class="text-3xl pr-5 font-bold"><%= product.name %></span>
            <% if product.sub_description %>
              <span class="text-sm pr-5 font-bold"><%= product.sub_description %></span>
            <% end %>
          </article>
        </div>
      </button>
      <dialog data-dialog-target="modal" class="backdrop:bg-slate-400 backdrop:opacity-80 p-10 rounded-md bg-main bg-[radial-gradient(#cacbce_1px,transparent_1px)] [background-size:16px_16px] m750:px-5 m750:py-10" style="width:fit-content;">
        <div class="w-96 px-8 py-4 bg-white border-4 border-black shadow-[8px_8px_0px_rgba(0,0,0,1)] grid place-content-center">
          <div class="text-center">
            <h1 class="text-2xl font-bold mb-4">KIU-ARE-PH</h1>
              <% if product.qrcode %>
                <div>
                  <%= image_tag url_for(product.qrcode), class: 'w-64 h-64 m-auto' %>
                </div>
              <% end %>
            <h1 class="text-xl mb-4">Scan the code to complete the transaction</h1>
          </div>
        </div>
      </dialog>
    </div>
  </div>
<% end %>